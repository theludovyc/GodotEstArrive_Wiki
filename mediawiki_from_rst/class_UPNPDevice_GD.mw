__NOTOC__'''Inherits:''' [[Reference GD|Reference]] '''<''' [[Object GD|Object]]UPNP device.== Description ==UPNP device. See [[UPNP GD|UPNP]] for UPNP discovery and utility functions. Provides low-level access to UPNP control commands. Allows to manage port mappings (port forwarding) and to query network information of the device (like local and external IP address and status). Note that methods on this class are synchronous and block the calling thread.== Properties =={| class="wikitable | [[String GD|String]]|| [[#description_url|description_url]]|| {{Span|""}} |-| [[String GD|String]]|| [[#igd_control_url|igd_control_url]]|| {{Span|""}} |-| [[String GD|String]]|| [[#igd_our_addr|igd_our_addr]]|| {{Span|""}} |-| [[String GD|String]]|| [[#igd_service_type|igd_service_type]]|| {{Span|""}} |-| [[#IGDStatus|IGDStatus]]|| [[#igd_status|igd_status]]|| {{Span|9}}  |-| [[String GD|String]]|| [[#service_type|service_type]]|| {{Span|""}} |}== Methods =={| class="wikitable | int|| [[#add_port_mapping|add_port_mapping]] '''(''' int port, int port_internal=0, [[String GD|String]] desc="", [[String GD|String]] proto="UDP", int duration=0 ''')''' const |-| int|| [[#delete_port_mapping|delete_port_mapping]] '''(''' int port, [[String GD|String]] proto="UDP" ''')''' const                                                                                                         |-| bool|| [[#is_valid_gateway|is_valid_gateway]] '''(''' ''')''' const                                                                                                                                                                                   |-| [[String GD|String]]|| [[#query_external_address|query_external_address]] '''(''' ''')''' const                                                                                                                                                                       |}== Enumerations ===== IGDStatus ====== IGD_STATUS_OK ====== IGD_STATUS_HTTP_ERROR ====== IGD_STATUS_HTTP_EMPTY ====== IGD_STATUS_NO_URLS ====== IGD_STATUS_NO_IGD ====== IGD_STATUS_DISCONNECTED ====== IGD_STATUS_UNKNOWN_DEVICE ====== IGD_STATUS_INVALID_CONTROL ====== IGD_STATUS_MALLOC_ERROR ====== IGD_STATUS_UNKNOWN_ERROR ===enum '''IGDStatus''':*  '''IGD_STATUS_OK''' = '''0'''  OK.*  '''IGD_STATUS_HTTP_ERROR''' = '''1'''  HTTP error.*  '''IGD_STATUS_HTTP_EMPTY''' = '''2'''  Empty HTTP response.*  '''IGD_STATUS_NO_URLS''' = '''3'''  Returned response contained no URLs.*  '''IGD_STATUS_NO_IGD''' = '''4'''  Not a valid IGD.*  '''IGD_STATUS_DISCONNECTED''' = '''5'''  Disconnected.*  '''IGD_STATUS_UNKNOWN_DEVICE''' = '''6'''  Unknown device.*  '''IGD_STATUS_INVALID_CONTROL''' = '''7'''  Invalid control.*  '''IGD_STATUS_MALLOC_ERROR''' = '''8'''  Memory allocation error.*  '''IGD_STATUS_UNKNOWN_ERROR''' = '''9'''  Unknown error.== Property Descriptions ===== description_url ===*  [[String GD|String]] '''description_url'''{| class="wikitable | ''Default''|| {{Span|""}}                     |-| ''Setter''|| set_description_url(value) |-| ''Getter''|| get_description_url()      |}URL to the device description.=== igd_control_url ===*  [[String GD|String]] '''igd_control_url'''{| class="wikitable | ''Default''|| {{Span|""}}                     |-| ''Setter''|| set_igd_control_url(value) |-| ''Getter''|| get_igd_control_url()      |}IDG control URL.=== igd_our_addr ===*  [[String GD|String]] '''igd_our_addr'''{| class="wikitable | ''Default''|| {{Span|""}}                  |-| ''Setter''|| set_igd_our_addr(value) |-| ''Getter''|| get_igd_our_addr()      |}Address of the local machine in the network connecting it to this {{Span|UPNPDevice}}.=== igd_service_type ===*  [[String GD|String]] '''igd_service_type'''{| class="wikitable | ''Default''|| {{Span|""}}                      |-| ''Setter''|| set_igd_service_type(value) |-| ''Getter''|| get_igd_service_type()      |}IGD service type.=== igd_status ===*  [[#IGDStatus|IGDStatus]] '''igd_status'''{| class="wikitable | ''Default''|| {{Span|9}}                 |-| ''Setter''|| set_igd_status(value) |-| ''Getter''|| get_igd_status()      |}IGD status. See [[#IGDStatus|IGDStatus]].=== service_type ===*  [[String GD|String]] '''service_type'''{| class="wikitable | ''Default''|| {{Span|""}}                  |-| ''Setter''|| set_service_type(value) |-| ''Getter''|| get_service_type()      |}Service type.== Method Descriptions ===== add_port_mapping ===*  int '''add_port_mapping''' '''(''' int port, int port_internal=0, [[String GD|String]] desc="", [[String GD|String]] proto="UDP", int duration=0 ''')''' constAdds a port mapping to forward the given external port on this {{Span|UPNPDevice}} for the given protocol to the local machine. See [[UPNP GD#add_port_mapping|UPNP.add_port_mapping()]].=== delete_port_mapping ===*  int '''delete_port_mapping''' '''(''' int port, [[String GD|String]] proto="UDP" ''')''' constDeletes the port mapping identified by the given port and protocol combination on this device. See [[UPNP GD#delete_port_mapping|UPNP.delete_port_mapping()]].=== is_valid_gateway ===*  bool '''is_valid_gateway ( )''' constReturns {{Span|true}} if this is a valid IGD (InternetGatewayDevice) which potentially supports port forwarding.=== query_external_address ===*  [[String GD|String]] '''query_external_address ( )''' constReturns the external IP address of this {{Span|UPNPDevice}} or an empty string.