__NOTOC__'''Inherits:''' [[Script GD|Script]] '''<''' [[Resource GD|Resource]] '''<''' [[Reference GD|Reference]] '''<''' [[Object GD|Object]]A script implemented in the Visual Script programming environment.== Description ==A script implemented in the  Visual Script programming environment. The script extends the functionality of all objects that instance it.[[Object GD#set_script|Object.set_script()]] extends an existing object, if that object's class matches one of the script's base classes.You are most likely to use this class via the Visual Script editor or when writing plugins for it.== Tutorials ==*  :doc:`../getting_started/scripting/visual_script/index`== Methods =={| class="wikitable | void|| [[#add_custom_signal|add_custom_signal]] '''(''' [[StringName GD|StringName]] name ''')'''                                                                                                                                                  |-| void|| [[#add_function|add_function]] '''(''' [[StringName GD|StringName]] name ''')'''                                                                                                                                                            |-| void|| [[#add_node|add_node]] '''(''' [[StringName GD|StringName]] func, int id, [[VisualScriptNode GD|VisualScriptNode]] node, [[Vector2 GD|Vector2]] position=Vector2( 0, 0 ) ''')'''                            |-| void|| [[#add_variable|add_variable]] '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] default_value=null, bool export=false ''')'''                                                                    |-| void|| [[#custom_signal_add_argument|custom_signal_add_argument]] '''(''' [[StringName GD|StringName]] name, [[@GlobalScope GD#Variant.Type|Variant.Type]] type, [[String GD|String]] argname, int index=-1 ''')''' |-| int|| [[#custom_signal_get_argument_count|custom_signal_get_argument_count]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                              |-| [[String GD|String]]|| [[#custom_signal_get_argument_name|custom_signal_get_argument_name]] '''(''' [[StringName GD|StringName]] name, int argidx ''')''' const                                                                                  |-| [[@GlobalScope GD#Variant.Type|Variant.Type]]|| [[#custom_signal_get_argument_type|custom_signal_get_argument_type]] '''(''' [[StringName GD|StringName]] name, int argidx ''')''' const                                                                                  |-| void|| [[#custom_signal_remove_argument|custom_signal_remove_argument]] '''(''' [[StringName GD|StringName]] name, int argidx ''')'''                                                                                            |-| void|| [[#custom_signal_set_argument_name|custom_signal_set_argument_name]] '''(''' [[StringName GD|StringName]] name, int argidx, [[String GD|String]] argname ''')'''                                                   |-| void|| [[#custom_signal_set_argument_type|custom_signal_set_argument_type]] '''(''' [[StringName GD|StringName]] name, int argidx, [[@GlobalScope GD#Variant.Type|Variant.Type]] type ''')'''                              |-| void|| [[#custom_signal_swap_argument|custom_signal_swap_argument]] '''(''' [[StringName GD|StringName]] name, int argidx, int withidx ''')'''                                                                 |-| void|| [[#data_connect|data_connect]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')'''                            |-| void|| [[#data_disconnect|data_disconnect]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')'''                      |-| int|| [[#get_function_node_id|get_function_node_id]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                      |-| [[Vector2 GD|Vector2]]|| [[#get_function_scroll|get_function_scroll]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                        |-| [[VisualScriptNode GD|VisualScriptNode]]|| [[#get_node|get_node]] '''(''' [[StringName GD|StringName]] func, int id ''')''' const                                                                                                                                    |-| [[Vector2 GD|Vector2]]|| [[#get_node_position|get_node_position]] '''(''' [[StringName GD|StringName]] func, int id ''')''' const                                                                                                                  |-| [[Variant GD|Variant]]|| [[#get_variable_default_value|get_variable_default_value]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                          |-| bool|| [[#get_variable_export|get_variable_export]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                        |-| [[Dictionary GD|Dictionary]]|| [[#get_variable_info|get_variable_info]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                            |-| bool|| [[#has_custom_signal|has_custom_signal]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                            |-| bool|| [[#has_data_connection|has_data_connection]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')''' const        |-| bool|| [[#has_function|has_function]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                                      |-| bool|| [[#has_node|has_node]] '''(''' [[StringName GD|StringName]] func, int id ''')''' const                                                                                                                                    |-| bool|| [[#has_sequence_connection|has_sequence_connection]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')''' const                             |-| bool|| [[#has_variable|has_variable]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                                      |-| void|| [[#remove_custom_signal|remove_custom_signal]] '''(''' [[StringName GD|StringName]] name ''')'''                                                                                                                                            |-| void|| [[#remove_function|remove_function]] '''(''' [[StringName GD|StringName]] name ''')'''                                                                                                                                                      |-| void|| [[#remove_node|remove_node]] '''(''' [[StringName GD|StringName]] func, int id ''')'''                                                                                                                                    |-| void|| [[#remove_variable|remove_variable]] '''(''' [[StringName GD|StringName]] name ''')'''                                                                                                                                                      |-| void|| [[#rename_custom_signal|rename_custom_signal]] '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''                                                                                              |-| void|| [[#rename_function|rename_function]] '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''                                                                                                        |-| void|| [[#rename_variable|rename_variable]] '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''                                                                                                        |-| void|| [[#sequence_connect|sequence_connect]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')'''                                                 |-| void|| [[#sequence_disconnect|sequence_disconnect]] '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')'''                                           |-| void|| [[#set_function_scroll|set_function_scroll]] '''(''' [[StringName GD|StringName]] name, [[Vector2 GD|Vector2]] ofs ''')'''                                                                                                           |-| void|| [[#set_instance_base_type|set_instance_base_type]] '''(''' [[StringName GD|StringName]] type ''')'''                                                                                                                                        |-| void|| [[#set_node_position|set_node_position]] '''(''' [[StringName GD|StringName]] func, int id, [[Vector2 GD|Vector2]] position ''')'''                                                                                |-| void|| [[#set_variable_default_value|set_variable_default_value]] '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] value ''')'''                                                                                           |-| void|| [[#set_variable_export|set_variable_export]] '''(''' [[StringName GD|StringName]] name, bool enable ''')'''                                                                                                              |-| void|| [[#set_variable_info|set_variable_info]] '''(''' [[StringName GD|StringName]] name, [[Dictionary GD|Dictionary]] value ''')'''                                                                                                       |}== Signals ===== node_ports_changed ===*  '''node_ports_changed''' '''(''' [[String GD|String]] function, int id ''')'''Emitted when the ports of a node are changed.== Method Descriptions ===== add_custom_signal ===*  void '''add_custom_signal''' '''(''' [[StringName GD|StringName]] name ''')'''Add a custom signal with the specified name to the VisualScript.=== add_function ===*  void '''add_function''' '''(''' [[StringName GD|StringName]] name ''')'''Add a function with the specified name to the VisualScript.=== add_node ===*  void '''add_node''' '''(''' [[StringName GD|StringName]] func, int id, [[VisualScriptNode GD|VisualScriptNode]] node, [[Vector2 GD|Vector2]] position=Vector2( 0, 0 ) ''')'''Add a node to a function of the VisualScript.=== add_variable ===*  void '''add_variable''' '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] default_value=null, bool export=false ''')'''Add a variable to the VisualScript, optionally giving it a default value or marking it as exported.=== custom_signal_add_argument ===*  void '''custom_signal_add_argument''' '''(''' [[StringName GD|StringName]] name, [[@GlobalScope GD#Variant.Type|Variant.Type]] type, [[String GD|String]] argname, int index=-1 ''')'''Add an argument to a custom signal added with [[#add_custom_signal|add_custom_signal]].=== custom_signal_get_argument_count ===*  int '''custom_signal_get_argument_count''' '''(''' [[StringName GD|StringName]] name ''')''' constGet the count of a custom signal's arguments.=== custom_signal_get_argument_name ===*  [[String GD|String]] '''custom_signal_get_argument_name''' '''(''' [[StringName GD|StringName]] name, int argidx ''')''' constGet the name of a custom signal's argument.=== custom_signal_get_argument_type ===*  [[@GlobalScope GD#Variant.Type|Variant.Type]] '''custom_signal_get_argument_type''' '''(''' [[StringName GD|StringName]] name, int argidx ''')''' constGet the type of a custom signal's argument.=== custom_signal_remove_argument ===*  void '''custom_signal_remove_argument''' '''(''' [[StringName GD|StringName]] name, int argidx ''')'''Remove a specific custom signal's argument.=== custom_signal_set_argument_name ===*  void '''custom_signal_set_argument_name''' '''(''' [[StringName GD|StringName]] name, int argidx, [[String GD|String]] argname ''')'''Rename a custom signal's argument.=== custom_signal_set_argument_type ===*  void '''custom_signal_set_argument_type''' '''(''' [[StringName GD|StringName]] name, int argidx, [[@GlobalScope GD#Variant.Type|Variant.Type]] type ''')'''Change the type of a custom signal's argument.=== custom_signal_swap_argument ===*  void '''custom_signal_swap_argument''' '''(''' [[StringName GD|StringName]] name, int argidx, int withidx ''')'''Swap two of the arguments of a custom signal.=== data_connect ===*  void '''data_connect''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')'''Connect two data ports. The value of {{Span|from_node}}'s {{Span|from_port}} would be fed into {{Span|to_node}}'s {{Span|to_port}}.=== data_disconnect ===*  void '''data_disconnect''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')'''Disconnect two data ports previously connected with [[#data_connect|data_connect]].=== get_function_node_id ===*  int '''get_function_node_id''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns the id of a function's entry point node.=== get_function_scroll ===*  [[Vector2 GD|Vector2]] '''get_function_scroll''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns the position of the center of the screen for a given function.=== get_node ===*  [[VisualScriptNode GD|VisualScriptNode]] '''get_node''' '''(''' [[StringName GD|StringName]] func, int id ''')''' constReturns a node given its id and its function.=== get_node_position ===*  [[Vector2 GD|Vector2]] '''get_node_position''' '''(''' [[StringName GD|StringName]] func, int id ''')''' constReturns a node's position in pixels.=== get_variable_default_value ===*  [[Variant GD|Variant]] '''get_variable_default_value''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns the default (initial) value of a variable.=== get_variable_export ===*  bool '''get_variable_export''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns whether a variable is exported.=== get_variable_info ===*  [[Dictionary GD|Dictionary]] '''get_variable_info''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns the information for a given variable as a dictionary. The information includes its name, type, hint and usage.=== has_custom_signal ===*  bool '''has_custom_signal''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns whether a signal exists with the specified name.=== has_data_connection ===*  bool '''has_data_connection''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_port, int to_node, int to_port ''')''' constReturns whether the specified data ports are connected.=== has_function ===*  bool '''has_function''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns whether a function exists with the specified name.=== has_node ===*  bool '''has_node''' '''(''' [[StringName GD|StringName]] func, int id ''')''' constReturns whether a node exists with the given id.=== has_sequence_connection ===*  bool '''has_sequence_connection''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')''' constReturns whether the specified sequence ports are connected.=== has_variable ===*  bool '''has_variable''' '''(''' [[StringName GD|StringName]] name ''')''' constReturns whether a variable exists with the specified name.=== remove_custom_signal ===*  void '''remove_custom_signal''' '''(''' [[StringName GD|StringName]] name ''')'''Remove a custom signal with the given name.=== remove_function ===*  void '''remove_function''' '''(''' [[StringName GD|StringName]] name ''')'''Remove a specific function and its nodes from the script.=== remove_node ===*  void '''remove_node''' '''(''' [[StringName GD|StringName]] func, int id ''')'''Remove a specific node.=== remove_variable ===*  void '''remove_variable''' '''(''' [[StringName GD|StringName]] name ''')'''Remove a variable with the given name.=== rename_custom_signal ===*  void '''rename_custom_signal''' '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''Change the name of a custom signal.=== rename_function ===*  void '''rename_function''' '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''Change the name of a function.=== rename_variable ===*  void '''rename_variable''' '''(''' [[StringName GD|StringName]] name, [[StringName GD|StringName]] new_name ''')'''Change the name of a variable.=== sequence_connect ===*  void '''sequence_connect''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')'''Connect two sequence ports. The execution will flow from of {{Span|from_node}}'s {{Span|from_output}} into {{Span|to_node}}.Unlike [[#data_connect|data_connect]], there isn't a {{Span|to_port}}, since the target node can have only one sequence port.=== sequence_disconnect ===*  void '''sequence_disconnect''' '''(''' [[StringName GD|StringName]] func, int from_node, int from_output, int to_node ''')'''Disconnect two sequence ports previously connected with [[#sequence_connect|sequence_connect]].=== set_function_scroll ===*  void '''set_function_scroll''' '''(''' [[StringName GD|StringName]] name, [[Vector2 GD|Vector2]] ofs ''')'''Position the center of the screen for a function.=== set_instance_base_type ===*  void '''set_instance_base_type''' '''(''' [[StringName GD|StringName]] type ''')'''Set the base type of the script.=== set_node_position ===*  void '''set_node_position''' '''(''' [[StringName GD|StringName]] func, int id, [[Vector2 GD|Vector2]] position ''')'''Position a node on the screen.=== set_variable_default_value ===*  void '''set_variable_default_value''' '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] value ''')'''Change the default (initial) value of a variable.=== set_variable_export ===*  void '''set_variable_export''' '''(''' [[StringName GD|StringName]] name, bool enable ''')'''Change whether a variable is exported.=== set_variable_info ===*  void '''set_variable_info''' '''(''' [[StringName GD|StringName]] name, [[Dictionary GD|Dictionary]] value ''')'''Set a variable's info, using the same format as [[#get_variable_info|get_variable_info]].