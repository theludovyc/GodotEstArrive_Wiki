__NOTOC__'''Inherits:''' [[Resource GD|Resource]] '''<''' [[Reference GD|Reference]] '''<''' [[Object GD|Object]]'''Inherited By:''' [[AnimationNodeAdd2 GD|AnimationNodeAdd2]], [[AnimationNodeAdd3 GD|AnimationNodeAdd3]], [[AnimationNodeBlend2 GD|AnimationNodeBlend2]], [[AnimationNodeBlend3 GD|AnimationNodeBlend3]], [[AnimationNodeOneShot GD|AnimationNodeOneShot]], [[AnimationNodeOutput GD|AnimationNodeOutput]], [[AnimationNodeTimeScale GD|AnimationNodeTimeScale]], [[AnimationNodeTimeSeek GD|AnimationNodeTimeSeek]], [[AnimationNodeTransition GD|AnimationNodeTransition]], [[AnimationRootNode GD|AnimationRootNode]]Base resource for [[AnimationTree GD|AnimationTree]] nodes.== Description ==Base resource for [[AnimationTree GD|AnimationTree]] nodes. In general, it's not used directly, but you can create custom ones with custom blending formulas.Inherit this when creating nodes mainly for use in [[AnimationNodeBlendTree GD|AnimationNodeBlendTree]], otherwise [[AnimationRootNode GD|AnimationRootNode]] should be used instead.== Tutorials ==*  :doc:`../tutorials/animation/animation_tree`== Properties =={| class="wikitable | bool|| [[#filter_enabled|filter_enabled]] |}== Methods =={| class="wikitable | void|| [[#add_input|add_input]] '''(''' [[String GD|String]] name ''')'''                                                                                                                                                                                                                                                                |-| void|| [[#blend_animation|blend_animation]] '''(''' [[StringName GD|StringName]] animation, float time, float delta, bool seeked, float blend ''')'''                                                                                                     |-| float|| [[#blend_input|blend_input]] '''(''' int input_index, float time, bool seek, float blend, [[#FilterAction|FilterAction]] filter=0, bool optimize=true ''')'''                                                      |-| float|| [[#blend_node|blend_node]] '''(''' [[StringName GD|StringName]] name, [[AnimationNode GD|AnimationNode]] node, float time, bool seek, float blend, [[#FilterAction|FilterAction]] filter=0, bool optimize=true ''')''' |-| [[String GD|String]]|| [[#get_caption|get_caption]] '''(''' ''')''' virtual                                                                                                                                                                                                                                                                                     |-| [[Object GD|Object]]|| [[#get_child_by_name|get_child_by_name]] '''(''' [[String GD|String]] name ''')''' virtual                                                                                                                                                                                                                                        |-| [[Dictionary GD|Dictionary]]|| [[#get_child_nodes|get_child_nodes]] '''(''' ''')''' virtual                                                                                                                                                                                                                                                                             |-| int|| [[#get_input_count|get_input_count]] '''(''' ''')''' const                                                                                                                                                                                                                                                                               |-| [[String GD|String]]|| [[#get_input_name|get_input_name]] '''(''' int input ''')'''                                                                                                                                                                                                                                                           |-| [[Variant GD|Variant]]|| [[#get_parameter|get_parameter]] '''(''' [[StringName GD|StringName]] name ''')''' const                                                                                                                                                                                                                                          |-| [[Variant GD|Variant]]|| [[#get_parameter_default_value|get_parameter_default_value]] '''(''' [[StringName GD|StringName]] name ''')''' virtual                                                                                                                                                                                                            |-| [[Array GD|Array]]|| [[#get_parameter_list|get_parameter_list]] '''(''' ''')''' virtual                                                                                                                                                                                                                                                                       |-| bool|| [[#has_filter|has_filter]] '''(''' ''')''' virtual                                                                                                                                                                                                                                                                                       |-| bool|| [[#is_path_filtered|is_path_filtered]] '''(''' [[NodePath GD|NodePath]] path ''')''' const                                                                                                                                                                                                                                        |-| void|| [[#process|process]] '''(''' float time, bool seek ''')''' virtual                                                                                                                                                                                                                                |-| void|| [[#remove_input|remove_input]] '''(''' int index ''')'''                                                                                                                                                                                                                                                               |-| void|| [[#set_filter_path|set_filter_path]] '''(''' [[NodePath GD|NodePath]] path, bool enable ''')'''                                                                                                                                                                                                                |-| void|| [[#set_parameter|set_parameter]] '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] value ''')'''                                                                                                                                                                                                           |}== Signals ===== removed_from_graph ===*  '''removed_from_graph ( )'''Called when the node was removed from the graph.=== tree_changed ===*  '''tree_changed ( )'''Emitted by nodes that inherit from this class and that have an internal tree when one of their nodes changes. The nodes that emit this signal are [[AnimationNodeBlendSpace1D GD|AnimationNodeBlendSpace1D]], [[AnimationNodeBlendSpace2D GD|AnimationNodeBlendSpace2D]], [[AnimationNodeStateMachine GD|AnimationNodeStateMachine]], and [[AnimationNodeBlendTree GD|AnimationNodeBlendTree]].== Enumerations ===== FilterAction ====== FILTER_IGNORE ====== FILTER_PASS ====== FILTER_STOP ====== FILTER_BLEND ===enum '''FilterAction''':*  '''FILTER_IGNORE''' = '''0'''  Do not use filtering.*  '''FILTER_PASS''' = '''1'''  Paths matching the filter will be allowed to pass.*  '''FILTER_STOP''' = '''2'''  Paths matching the filter will be discarded.*  '''FILTER_BLEND''' = '''3'''  Paths matching the filter will be blended (by the blend value).== Property Descriptions ===== filter_enabled ===*  bool '''filter_enabled'''{| class="wikitable | ''Setter''|| set_filter_enabled(value) |-| ''Getter''|| is_filter_enabled()       |}If {{Span|true}}, filtering is enabled.== Method Descriptions ===== add_input ===*  void '''add_input''' '''(''' [[String GD|String]] name ''')'''Adds an input to the node. This is only useful for nodes created for use in an [[AnimationNodeBlendTree GD|AnimationNodeBlendTree]].=== blend_animation ===*  void '''blend_animation''' '''(''' [[StringName GD|StringName]] animation, float time, float delta, bool seeked, float blend ''')'''Blend an animation by {{Span|blend}} amount (name must be valid in the linked [[AnimationPlayer GD|AnimationPlayer]]). A {{Span|time}} and {{Span|delta}} may be passed, as well as whether {{Span|seek}} happened.=== blend_input ===*  float '''blend_input''' '''(''' int input_index, float time, bool seek, float blend, [[#FilterAction|FilterAction]] filter=0, bool optimize=true ''')'''Blend an input. This is only useful for nodes created for an [[AnimationNodeBlendTree GD|AnimationNodeBlendTree]]. The {{Span|time}} parameter is a relative delta, unless {{Span|seek}} is {{Span|true}}, in which case it is absolute. A filter mode may be optionally passed (see [[#FilterAction|FilterAction]] for options).=== blend_node ===*  float '''blend_node''' '''(''' [[StringName GD|StringName]] name, [[AnimationNode GD|AnimationNode]] node, float time, bool seek, float blend, [[#FilterAction|FilterAction]] filter=0, bool optimize=true ''')'''Blend another animation node (in case this node contains children animation nodes). This function is only useful if you inherit from [[AnimationRootNode GD|AnimationRootNode]] instead, else editors will not display your node for addition.=== get_caption ===*  [[String GD|String]] '''get_caption ( )''' virtualGets the text caption for this node (used by some editors).=== get_child_by_name ===*  [[Object GD|Object]] '''get_child_by_name''' '''(''' [[String GD|String]] name ''')''' virtualGets a child node by index (used by editors inheriting from [[AnimationRootNode GD|AnimationRootNode]]).=== get_child_nodes ===*  [[Dictionary GD|Dictionary]] '''get_child_nodes ( )''' virtualGets all children nodes in order as a {{Span|name: node}} dictionary. Only useful when inheriting [[AnimationRootNode GD|AnimationRootNode]].=== get_input_count ===*  int '''get_input_count ( )''' constAmount of inputs in this node, only useful for nodes that go into [[AnimationNodeBlendTree GD|AnimationNodeBlendTree]].=== get_input_name ===*  [[String GD|String]] '''get_input_name''' '''(''' int input ''')'''Gets the name of an input by index.=== get_parameter ===*  [[Variant GD|Variant]] '''get_parameter''' '''(''' [[StringName GD|StringName]] name ''')''' constGets the value of a parameter. Parameters are custom local memory used for your nodes, given a resource can be reused in multiple trees.=== get_parameter_default_value ===*  [[Variant GD|Variant]] '''get_parameter_default_value''' '''(''' [[StringName GD|StringName]] name ''')''' virtualGets the default value of a parameter. Parameters are custom local memory used for your nodes, given a resource can be reused in multiple trees.=== get_parameter_list ===*  [[Array GD|Array]] '''get_parameter_list ( )''' virtualGets the property information for parameter. Parameters are custom local memory used for your nodes, given a resource can be reused in multiple trees. Format is similar to [[Object GD#get_property_list|Object.get_property_list()]].=== has_filter ===*  bool '''has_filter ( )''' virtualReturns {{Span|true}} whether you want the blend tree editor to display filter editing on this node.=== is_path_filtered ===*  bool '''is_path_filtered''' '''(''' [[NodePath GD|NodePath]] path ''')''' constReturns {{Span|true}} whether a given path is filtered.=== process ===*  void '''process''' '''(''' float time, bool seek ''')''' virtualUser-defined callback called when a custom node is processed. The {{Span|time}} parameter is a relative delta, unless {{Span|seek}} is {{Span|true}}, in which case it is absolute.Here, call the [[#blend_input|blend_input]], [[#blend_node|blend_node]] or [[#blend_animation|blend_animation]] functions. You can also use [[#get_parameter|get_parameter]] and [[#set_parameter|set_parameter]] to modify local memory.This function should return the time left for the current animation to finish (if unsure, pass the value from the main blend being called).=== remove_input ===*  void '''remove_input''' '''(''' int index ''')'''Removes an input, call this only when inactive.=== set_filter_path ===*  void '''set_filter_path''' '''(''' [[NodePath GD|NodePath]] path, bool enable ''')'''Adds or removes a path for the filter.=== set_parameter ===*  void '''set_parameter''' '''(''' [[StringName GD|StringName]] name, [[Variant GD|Variant]] value ''')'''Sets a custom parameter. These are used as local storage, because resources can be reused across the tree or scenes.