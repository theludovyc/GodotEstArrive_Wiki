__NOTOC__'''Inherits:''' [[Object GD|Object]]Server interface for low-level 2D navigation access== Description ==Navigation2DServer is the server responsible for all 2D navigation. It creates the agents, maps, and regions for navigation to work as expected. This keeps tracks of any call and executes them during the sync phase. This means that you can request any change to the map, using any thread, without worrying.== Methods =={| class="wikitable | [[RID GD|RID]]|| [[#agent_create|agent_create]] '''(''' ''')''' const                                                                                                                                                                        |-| bool|| [[#agent_is_map_changed|agent_is_map_changed]] '''(''' [[RID GD|RID]] agent ''')''' const                                                                                                                            |-| void|| [[#agent_set_callback|agent_set_callback]] '''(''' [[RID GD|RID]] agent, [[Object GD|Object]] receiver, [[StringName GD|StringName]] method, [[Variant GD|Variant]] userdata=null ''')''' const |-| void|| [[#agent_set_map|agent_set_map]] '''(''' [[RID GD|RID]] agent, [[RID GD|RID]] map ''')''' const                                                                                                               |-| void|| [[#agent_set_max_neighbors|agent_set_max_neighbors]] '''(''' [[RID GD|RID]] agent, int count ''')''' const                                                                                         |-| void|| [[#agent_set_max_speed|agent_set_max_speed]] '''(''' [[RID GD|RID]] agent, float max_speed ''')''' const                                                                                         |-| void|| [[#agent_set_neighbor_dist|agent_set_neighbor_dist]] '''(''' [[RID GD|RID]] agent, float dist ''')''' const                                                                                      |-| void|| [[#agent_set_position|agent_set_position]] '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] position ''')''' const                                                                                        |-| void|| [[#agent_set_radius|agent_set_radius]] '''(''' [[RID GD|RID]] agent, float radius ''')''' const                                                                                                  |-| void|| [[#agent_set_target_velocity|agent_set_target_velocity]] '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] target_velocity ''')''' const                                                                   |-| void|| [[#agent_set_time_horizon|agent_set_time_horizon]] '''(''' [[RID GD|RID]] agent, float time ''')''' const                                                                                        |-| void|| [[#agent_set_velocity|agent_set_velocity]] '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] velocity ''')''' const                                                                                        |-| void|| [[#free|free]] '''(''' [[RID GD|RID]] object ''')''' const                                                                                                                                                           |-| [[RID GD|RID]]|| [[#map_create|map_create]] '''(''' ''')''' const                                                                                                                                                                            |-| float|| [[#map_get_cell_size|map_get_cell_size]] '''(''' [[RID GD|RID]] map ''')''' const                                                                                                                                    |-| [[Vector2 GD|Vector2]]|| [[#map_get_closest_point|map_get_closest_point]] '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] to_point ''')''' const                                                                                    |-| [[RID GD|RID]]|| [[#map_get_closest_point_owner|map_get_closest_point_owner]] '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] to_point ''')''' const                                                                        |-| float|| [[#map_get_edge_connection_margin|map_get_edge_connection_margin]] '''(''' [[RID GD|RID]] map ''')''' const                                                                                                          |-| [[PackedVector2Array GD|PackedVector2Array]]|| [[#map_get_path|map_get_path]] '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] origin, [[Vector2 GD|Vector2]] destination, bool optimize ''')''' const                           |-| bool|| [[#map_is_active|map_is_active]] '''(''' [[RID GD|RID]] nap ''')''' const                                                                                                                                            |-| void|| [[#map_set_active|map_set_active]] '''(''' [[RID GD|RID]] map, bool active ''')''' const                                                                                                          |-| void|| [[#map_set_cell_size|map_set_cell_size]] '''(''' [[RID GD|RID]] map, float cell_size ''')''' const                                                                                               |-| void|| [[#map_set_edge_connection_margin|map_set_edge_connection_margin]] '''(''' [[RID GD|RID]] map, float margin ''')''' const                                                                        |-| [[RID GD|RID]]|| [[#region_create|region_create]] '''(''' ''')''' const                                                                                                                                                                      |-| void|| [[#region_set_map|region_set_map]] '''(''' [[RID GD|RID]] region, [[RID GD|RID]] map ''')''' const                                                                                                            |-| void|| [[#region_set_navpoly|region_set_navpoly]] '''(''' [[RID GD|RID]] region, [[NavigationPolygon GD|NavigationPolygon]] nav_poly ''')''' const                                                                   |-| void|| [[#region_set_transform|region_set_transform]] '''(''' [[RID GD|RID]] region, [[Transform2D GD|Transform2D]] transform ''')''' const                                                                          |}== Method Descriptions ===== agent_create ===*  [[RID GD|RID]] '''agent_create ( )''' constCreates the agent.=== agent_is_map_changed ===*  bool '''agent_is_map_changed''' '''(''' [[RID GD|RID]] agent ''')''' constReturns true if the map got changed the previous frame.=== agent_set_callback ===*  void '''agent_set_callback''' '''(''' [[RID GD|RID]] agent, [[Object GD|Object]] receiver, [[StringName GD|StringName]] method, [[Variant GD|Variant]] userdata=null ''')''' constCallback called at the end of the RVO process.=== agent_set_map ===*  void '''agent_set_map''' '''(''' [[RID GD|RID]] agent, [[RID GD|RID]] map ''')''' constPuts the agent in the map.=== agent_set_max_neighbors ===*  void '''agent_set_max_neighbors''' '''(''' [[RID GD|RID]] agent, int count ''')''' constSets the maximum number of other agents the agent takes into account in the navigation. The larger this number, the longer the running time of the simulation. If the number is too low, the simulation will not be safe.=== agent_set_max_speed ===*  void '''agent_set_max_speed''' '''(''' [[RID GD|RID]] agent, float max_speed ''')''' constSets the maximum speed of the agent. Must be positive.=== agent_set_neighbor_dist ===*  void '''agent_set_neighbor_dist''' '''(''' [[RID GD|RID]] agent, float dist ''')''' constSets the maximum distance to other agents this agent takes into account in the navigation. The larger this number, the longer the running time of the simulation. If the number is too low, the simulation will not be safe.=== agent_set_position ===*  void '''agent_set_position''' '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] position ''')''' constSets the position of the agent in world space.=== agent_set_radius ===*  void '''agent_set_radius''' '''(''' [[RID GD|RID]] agent, float radius ''')''' constSets the radius of the agent.=== agent_set_target_velocity ===*  void '''agent_set_target_velocity''' '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] target_velocity ''')''' constSets the new target velocity.=== agent_set_time_horizon ===*  void '''agent_set_time_horizon''' '''(''' [[RID GD|RID]] agent, float time ''')''' constThe minimal amount of time for which the agent's velocities that are computed by the simulation are safe with respect to other agents. The larger this number, the sooner this agent will respond to the presence of other agents, but the less freedom this agent has in choosing its velocities. Must be positive.=== agent_set_velocity ===*  void '''agent_set_velocity''' '''(''' [[RID GD|RID]] agent, [[Vector2 GD|Vector2]] velocity ''')''' constSets the current velocity of the agent.=== free ===*  void '''free''' '''(''' [[RID GD|RID]] object ''')''' constDestroy the RID=== map_create ===*  [[RID GD|RID]] '''map_create ( )''' constCreate a new map.=== map_get_cell_size ===*  float '''map_get_cell_size''' '''(''' [[RID GD|RID]] map ''')''' constReturns the map cell size.=== map_get_closest_point ===*  [[Vector2 GD|Vector2]] '''map_get_closest_point''' '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] to_point ''')''' constReturns the point closest to the provided {{Span|to_point}} on the navigation mesh surface.=== map_get_closest_point_owner ===*  [[RID GD|RID]] '''map_get_closest_point_owner''' '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] to_point ''')''' constReturns the owner region RID for the point returned by [[#map_get_closest_point|map_get_closest_point]].=== map_get_edge_connection_margin ===*  float '''map_get_edge_connection_margin''' '''(''' [[RID GD|RID]] map ''')''' constReturns the edge connection margin of the map. The edge connection margin is a distance used to connect two regions.=== map_get_path ===*  [[PackedVector2Array GD|PackedVector2Array]] '''map_get_path''' '''(''' [[RID GD|RID]] map, [[Vector2 GD|Vector2]] origin, [[Vector2 GD|Vector2]] destination, bool optimize ''')''' constReturns the navigation path to reach the destination from the origin, while avoiding static obstacles.=== map_is_active ===*  bool '''map_is_active''' '''(''' [[RID GD|RID]] nap ''')''' constReturns true if the map is active.=== map_set_active ===*  void '''map_set_active''' '''(''' [[RID GD|RID]] map, bool active ''')''' constSets the map active.=== map_set_cell_size ===*  void '''map_set_cell_size''' '''(''' [[RID GD|RID]] map, float cell_size ''')''' constSet the map cell size used to weld the navigation mesh polygons.=== map_set_edge_connection_margin ===*  void '''map_set_edge_connection_margin''' '''(''' [[RID GD|RID]] map, float margin ''')''' constSet the map edge connection margin used to weld the compatible region edges.=== region_create ===*  [[RID GD|RID]] '''region_create ( )''' constCreates a new region.=== region_set_map ===*  void '''region_set_map''' '''(''' [[RID GD|RID]] region, [[RID GD|RID]] map ''')''' constSets the map for the region.=== region_set_navpoly ===*  void '''region_set_navpoly''' '''(''' [[RID GD|RID]] region, [[NavigationPolygon GD|NavigationPolygon]] nav_poly ''')''' constSets the navigation mesh for the region.=== region_set_transform ===*  void '''region_set_transform''' '''(''' [[RID GD|RID]] region, [[Transform2D GD|Transform2D]] transform ''')''' constSets the global transformation for the region.