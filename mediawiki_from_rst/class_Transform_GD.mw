__NOTOC__3D transformation (3×4 matrix).== Description ==Represents one or many transformations in 3D space such as translation, rotation, or scaling. It consists of a [[#basis|basis]] and an [[#origin|origin]]. It is similar to a 3×4 matrix.== Tutorials ==*  :doc:`../tutorials/math/index`*  :doc:`../tutorials/3d/using_transforms`== Properties =={| class="wikitable | [[Basis GD|Basis]]|| [[#basis|basis]]|| {{Span|Basis( 1, 0, 0, 0, 1, 0, 0, 0, 1 )}} |-| [[Vector3 GD|Vector3]]|| [[#origin|origin]]|| {{Span|Vector3( 0, 0, 0 )}}                 |}== Methods =={| class="wikitable | [[Transform GD|Transform]]|| [[Transform GD#Transform|Transform]] '''(''' [[Vector3 GD|Vector3]] x_axis, [[Vector3 GD|Vector3]] y_axis, [[Vector3 GD|Vector3]] z_axis, [[Vector3 GD|Vector3]] origin ''')''' |-| [[Transform GD|Transform]]|| [[Transform GD#Transform|Transform]] '''(''' [[Basis GD|Basis]] basis, [[Vector3 GD|Vector3]] origin ''')'''                                                                                  |-| [[Transform GD|Transform]]|| [[Transform GD#Transform|Transform]] '''(''' [[Transform2D GD|Transform2D]] from ''')'''                                                                                                             |-| [[Transform GD|Transform]]|| [[Transform GD#Transform|Transform]] '''(''' [[Quat GD|Quat]] from ''')'''                                                                                                                           |-| [[Transform GD|Transform]]|| [[Transform GD#Transform|Transform]] '''(''' [[Basis GD|Basis]] from ''')'''                                                                                                                         |-| [[Transform GD|Transform]]|| [[#affine_inverse|affine_inverse]] '''(''' ''')'''                                                                                                                                              |-| [[Transform GD|Transform]]|| [[#interpolate_with|interpolate_with]] '''(''' [[Transform GD|Transform]] transform, float weight ''')'''                                                            |-| [[Transform GD|Transform]]|| [[#inverse|inverse]] '''(''' ''')'''                                                                                                                                                            |-| bool|| [[#is_equal_approx|is_equal_approx]] '''(''' [[Transform GD|Transform]] transform ''')'''                                                                                                |-| [[Transform GD|Transform]]|| [[#looking_at|looking_at]] '''(''' [[Vector3 GD|Vector3]] target, [[Vector3 GD|Vector3]] up ''')'''                                                                               |-| [[Transform GD|Transform]]|| [[#orthonormalized|orthonormalized]] '''(''' ''')'''                                                                                                                                            |-| [[Transform GD|Transform]]|| [[#rotated|rotated]] '''(''' [[Vector3 GD|Vector3]] axis, float phi ''')'''                                                                                          |-| [[Transform GD|Transform]]|| [[#scaled|scaled]] '''(''' [[Vector3 GD|Vector3]] scale ''')'''                                                                                                                          |-| [[Transform GD|Transform]]|| [[#translated|translated]] '''(''' [[Vector3 GD|Vector3]] offset ''')'''                                                                                                                 |-| [[Variant GD|Variant]]|| [[#xform|xform]] '''(''' [[Variant GD|Variant]] v ''')'''                                                                                                                                |-| [[Variant GD|Variant]]|| [[#xform_inv|xform_inv]] '''(''' [[Variant GD|Variant]] v ''')'''                                                                                                                        |}== Constants ===== IDENTITY ====== FLIP_X ====== FLIP_Y ====== FLIP_Z ===*  '''IDENTITY''' = '''Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )'''  {{Span|Transform}} with no translation, rotation or scaling applied. When applied to other data structures, [[Transform GD#IDENTITY|IDENTITY]] performs no transformation.*  '''FLIP_X''' = '''Transform( -1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )'''  {{Span|Transform}} with mirroring applied perpendicular to the YZ plane.*  '''FLIP_Y''' = '''Transform( 1, 0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 0 )'''  {{Span|Transform}} with mirroring applied perpendicular to the XZ plane.*  '''FLIP_Z''' = '''Transform( 1, 0, 0, 0, 1, 0, 0, 0, -1, 0, 0, 0 )'''  {{Span|Transform}} with mirroring applied perpendicular to the XY plane.== Property Descriptions ===== basis ===*  [[Basis GD|Basis]] '''basis'''{| class="wikitable | ''Default''|| {{Span|Basis( 1, 0, 0, 0, 1, 0, 0, 0, 1 )}} |}The basis is a matrix containing 3 [[Vector3 GD|Vector3]] as its columns: X axis, Y axis, and Z axis. These vectors can be interpreted as the basis vectors of local coordinate system traveling with the object.=== origin ===*  [[Vector3 GD|Vector3]] '''origin'''{| class="wikitable | ''Default''|| {{Span|Vector3( 0, 0, 0 )}} |}The translation offset of the transform.== Method Descriptions ===== Transform ===*  [[Transform GD|Transform]] '''Transform''' '''(''' [[Vector3 GD|Vector3]] x_axis, [[Vector3 GD|Vector3]] y_axis, [[Vector3 GD|Vector3]] z_axis, [[Vector3 GD|Vector3]] origin ''')'''Constructs the Transform from four [[Vector3 GD|Vector3]]. Each axis corresponds to local basis vectors (some of which may be scaled).*  [[Transform GD|Transform]] '''Transform''' '''(''' [[Basis GD|Basis]] basis, [[Vector3 GD|Vector3]] origin ''')'''Constructs the Transform from a [[Basis GD|Basis]] and [[Vector3 GD|Vector3]].*  [[Transform GD|Transform]] '''Transform''' '''(''' [[Transform2D GD|Transform2D]] from ''')'''Constructs the Transform from a [[Transform2D GD|Transform2D]].*  [[Transform GD|Transform]] '''Transform''' '''(''' [[Quat GD|Quat]] from ''')'''Constructs the Transform from a [[Quat GD|Quat]]. The origin will be Vector3(0, 0, 0).*  [[Transform GD|Transform]] '''Transform''' '''(''' [[Basis GD|Basis]] from ''')'''Constructs the Transform from a [[Basis GD|Basis]]. The origin will be Vector3(0, 0, 0).=== affine_inverse ===*  [[Transform GD|Transform]] '''affine_inverse ( )'''Returns the inverse of the transform, under the assumption that the transformation is composed of rotation, scaling and translation.=== interpolate_with ===*  [[Transform GD|Transform]] '''interpolate_with''' '''(''' [[Transform GD|Transform]] transform, float weight ''')'''Interpolates the transform to other Transform by weight amount (0-1).=== inverse ===*  [[Transform GD|Transform]] '''inverse ( )'''Returns the inverse of the transform, under the assumption that the transformation is composed of rotation and translation (no scaling, use affine_inverse for transforms with scaling).=== is_equal_approx ===*  bool '''is_equal_approx''' '''(''' [[Transform GD|Transform]] transform ''')'''Returns {{Span|true}} if this transform and {{Span|transform}} are approximately equal, by calling {{Span|is_equal_approx}} on each component.=== looking_at ===*  [[Transform GD|Transform]] '''looking_at''' '''(''' [[Vector3 GD|Vector3]] target, [[Vector3 GD|Vector3]] up ''')'''Returns a copy of the transform rotated such that its -Z axis points towards the {{Span|target}} position.The transform will first be rotated around the given {{Span|up}} vector, and then fully aligned to the target by a further rotation around an axis perpendicular to both the {{Span|target}} and {{Span|up}} vectors.Operations take place in global space.=== orthonormalized ===*  [[Transform GD|Transform]] '''orthonormalized ( )'''Returns the transform with the basis orthogonal (90 degrees), and normalized axis vectors.=== rotated ===*  [[Transform GD|Transform]] '''rotated''' '''(''' [[Vector3 GD|Vector3]] axis, float phi ''')'''Rotates the transform around the given axis by the given angle (in radians), using matrix multiplication. The axis must be a normalized vector.=== scaled ===*  [[Transform GD|Transform]] '''scaled''' '''(''' [[Vector3 GD|Vector3]] scale ''')'''Scales the transform by the given scale factor, using matrix multiplication.=== translated ===*  [[Transform GD|Transform]] '''translated''' '''(''' [[Vector3 GD|Vector3]] offset ''')'''Translates the transform by the given offset, relative to the transform's basis vectors.Unlike [[#rotated|rotated]] and [[#scaled|scaled]], this does not use matrix multiplication.=== xform ===*  [[Variant GD|Variant]] '''xform''' '''(''' [[Variant GD|Variant]] v ''')'''Transforms the given [[Vector3 GD|Vector3]], [[Plane GD|Plane]], [[AABB GD|AABB]], or [[PackedVector3Array GD|PackedVector3Array]] by this transform.=== xform_inv ===*  [[Variant GD|Variant]] '''xform_inv''' '''(''' [[Variant GD|Variant]] v ''')'''Inverse-transforms the given [[Vector3 GD|Vector3]], [[Plane GD|Plane]], [[AABB GD|AABB]], or [[PackedVector3Array GD|PackedVector3Array]] by this transform.