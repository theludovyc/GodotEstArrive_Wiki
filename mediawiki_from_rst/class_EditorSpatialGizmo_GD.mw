__NOTOC__'''Inherits:''' [[SpatialGizmo GD|SpatialGizmo]] '''<''' [[Reference GD|Reference]] '''<''' [[Object GD|Object]]Custom gizmo for editing Spatial objects.== Description ==Custom gizmo that is used for providing custom visualization and editing (handles) for 3D Spatial objects. See [[EditorSpatialGizmoPlugin GD|EditorSpatialGizmoPlugin]] for more information.== Methods =={| class="wikitable | void|| [[#add_collision_segments|add_collision_segments]] '''(''' [[PackedVector3Array GD|PackedVector3Array]] segments ''')'''                                                                                                               |-| void|| [[#add_collision_triangles|add_collision_triangles]] '''(''' [[TriangleMesh GD|TriangleMesh]] triangles ''')'''                                                                                                                        |-| void|| [[#add_handles|add_handles]] '''(''' [[PackedVector3Array GD|PackedVector3Array]] handles, [[Material GD|Material]] material, bool billboard=false, bool secondary=false ''')'''          |-| void|| [[#add_lines|add_lines]] '''(''' [[PackedVector3Array GD|PackedVector3Array]] lines, [[Material GD|Material]] material, bool billboard=false, [[Color GD|Color]] modulate=Color( 1, 1, 1, 1 ) ''')''' |-| void|| [[#add_mesh|add_mesh]] '''(''' [[ArrayMesh GD|ArrayMesh]] mesh, bool billboard=false, [[SkinReference GD|SkinReference]] skeleton=null, [[Material GD|Material]] material=null ''')'''                |-| void|| [[#add_unscaled_billboard|add_unscaled_billboard]] '''(''' [[Material GD|Material]] material, float default_scale=1, [[Color GD|Color]] modulate=Color( 1, 1, 1, 1 ) ''')'''                                |-| void|| [[#clear|clear]] '''(''' ''')'''                                                                                                                                                                                                              |-| void|| [[#commit_handle|commit_handle]] '''(''' int index, [[Variant GD|Variant]] restore, bool cancel=false ''')''' virtual                                                                             |-| [[String GD|String]]|| [[#get_handle_name|get_handle_name]] '''(''' int index ''')''' virtual                                                                                                                                                      |-| [[Variant GD|Variant]]|| [[#get_handle_value|get_handle_value]] '''(''' int index ''')''' virtual                                                                                                                                                    |-| [[EditorSpatialGizmoPlugin GD|EditorSpatialGizmoPlugin]]|| [[#get_plugin|get_plugin]] '''(''' ''')''' const                                                                                                                                                                                              |-| [[Spatial GD|Spatial]]|| [[#get_spatial_node|get_spatial_node]] '''(''' ''')''' const                                                                                                                                                                                  |-| bool|| [[#is_handle_highlighted|is_handle_highlighted]] '''(''' int index ''')''' virtual                                                                                                                                          |-| void|| [[#redraw|redraw]] '''(''' ''')''' virtual                                                                                                                                                                                                    |-| void|| [[#set_handle|set_handle]] '''(''' int index, [[Camera GD|Camera]] camera, [[Vector2 GD|Vector2]] point ''')''' virtual                                                                                       |-| void|| [[#set_hidden|set_hidden]] '''(''' bool hidden ''')'''                                                                                                                                                                     |-| void|| [[#set_spatial_node|set_spatial_node]] '''(''' [[Node GD|Node]] node ''')'''                                                                                                                                                           |}== Method Descriptions ===== add_collision_segments ===*  void '''add_collision_segments''' '''(''' [[PackedVector3Array GD|PackedVector3Array]] segments ''')'''=== add_collision_triangles ===*  void '''add_collision_triangles''' '''(''' [[TriangleMesh GD|TriangleMesh]] triangles ''')'''Adds collision triangles to the gizmo for picking. A [[TriangleMesh GD|TriangleMesh]] can be generated from a regular [[Mesh GD|Mesh]] too. Call this function during [[#redraw|redraw]].=== add_handles ===*  void '''add_handles''' '''(''' [[PackedVector3Array GD|PackedVector3Array]] handles, [[Material GD|Material]] material, bool billboard=false, bool secondary=false ''')'''Adds a list of handles (points) which can be used to deform the object being edited.There are virtual functions which will be called upon editing of these handles. Call this function during [[#redraw|redraw]].=== add_lines ===*  void '''add_lines''' '''(''' [[PackedVector3Array GD|PackedVector3Array]] lines, [[Material GD|Material]] material, bool billboard=false, [[Color GD|Color]] modulate=Color( 1, 1, 1, 1 ) ''')'''Adds lines to the gizmo (as sets of 2 points), with a given material. The lines are used for visualizing the gizmo. Call this function during [[#redraw|redraw]].=== add_mesh ===*  void '''add_mesh''' '''(''' [[ArrayMesh GD|ArrayMesh]] mesh, bool billboard=false, [[SkinReference GD|SkinReference]] skeleton=null, [[Material GD|Material]] material=null ''')'''=== add_unscaled_billboard ===*  void '''add_unscaled_billboard''' '''(''' [[Material GD|Material]] material, float default_scale=1, [[Color GD|Color]] modulate=Color( 1, 1, 1, 1 ) ''')'''Adds an unscaled billboard for visualization. Call this function during [[#redraw|redraw]].=== clear ===*  void '''clear ( )'''=== commit_handle ===*  void '''commit_handle''' '''(''' int index, [[Variant GD|Variant]] restore, bool cancel=false ''')''' virtualCommit a handle being edited (handles must have been previously added by [[#add_handles|add_handles]]).If the {{Span|cancel}} parameter is {{Span|true}}, an option to restore the edited value to the original is provided.=== get_handle_name ===*  [[String GD|String]] '''get_handle_name''' '''(''' int index ''')''' virtualGets the name of an edited handle (handles must have been previously added by [[#add_handles|add_handles]]).Handles can be named for reference to the user when editing.=== get_handle_value ===*  [[Variant GD|Variant]] '''get_handle_value''' '''(''' int index ''')''' virtualGets actual value of a handle. This value can be anything and used for eventually undoing the motion when calling [[#commit_handle|commit_handle]].=== get_plugin ===*  [[EditorSpatialGizmoPlugin GD|EditorSpatialGizmoPlugin]] '''get_plugin ( )''' constReturns the [[EditorSpatialGizmoPlugin GD|EditorSpatialGizmoPlugin]] that owns this gizmo. It's useful to retrieve materials using [[EditorSpatialGizmoPlugin GD#get_material|EditorSpatialGizmoPlugin.get_material()]].=== get_spatial_node ===*  [[Spatial GD|Spatial]] '''get_spatial_node ( )''' constReturns the Spatial node associated with this gizmo.=== is_handle_highlighted ===*  bool '''is_handle_highlighted''' '''(''' int index ''')''' virtualGets whether a handle is highlighted or not.=== redraw ===*  void '''redraw ( )''' virtualThis function is called when the Spatial this gizmo refers to changes (the [[Spatial GD#update_gizmo|Spatial.update_gizmo()]] is called).=== set_handle ===*  void '''set_handle''' '''(''' int index, [[Camera GD|Camera]] camera, [[Vector2 GD|Vector2]] point ''')''' virtualThis function is used when the user drags a gizmo handle (previously added with [[#add_handles|add_handles]]) in screen coordinates.The [[Camera GD|Camera]] is also provided so screen coordinates can be converted to raycasts.=== set_hidden ===*  void '''set_hidden''' '''(''' bool hidden ''')'''=== set_spatial_node ===*  void '''set_spatial_node''' '''(''' [[Node GD|Node]] node ''')'''