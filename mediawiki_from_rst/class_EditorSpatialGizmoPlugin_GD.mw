__NOTOC__'''Inherits:''' [[Resource GD|Resource]] '''<''' [[Reference GD|Reference]] '''<''' [[Object GD|Object]]Used by the editor to define Spatial gizmo types.== Description ==EditorSpatialGizmoPlugin allows you to define a new type of Gizmo. There are two main ways to do so: extending {{Span|EditorSpatialGizmoPlugin}} for the simpler gizmos, or creating a new [[EditorSpatialGizmo GD|EditorSpatialGizmo]] type. See the tutorial in the documentation for more info.== Tutorials ==*  :doc:`../tutorials/plugins/editor/spatial_gizmos`== Methods =={| class="wikitable | void|| [[#add_material|add_material]] '''(''' [[String GD|String]] name, [[StandardMaterial3D GD|StandardMaterial3D]] material ''')'''                                                                                                         |-| bool|| [[#can_be_hidden|can_be_hidden]] '''(''' ''')''' virtual                                                                                                                                                                                              |-| void|| [[#commit_handle|commit_handle]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index, [[Variant GD|Variant]] restore, bool cancel=false ''')''' virtual                          |-| [[EditorSpatialGizmo GD|EditorSpatialGizmo]]|| [[#create_gizmo|create_gizmo]] '''(''' [[Spatial GD|Spatial]] spatial ''')''' virtual                                                                                                                                                          |-| void|| [[#create_handle_material|create_handle_material]] '''(''' [[String GD|String]] name, bool billboard=false ''')'''                                                                                                          |-| void|| [[#create_icon_material|create_icon_material]] '''(''' [[String GD|String]] name, [[Texture2D GD|Texture2D]] texture, bool on_top=false, [[Color GD|Color]] color=Color( 1, 1, 1, 1 ) ''')'''                 |-| void|| [[#create_material|create_material]] '''(''' [[String GD|String]] name, [[Color GD|Color]] color, bool billboard=false, bool on_top=false, bool use_vertex_color=false ''')''' |-| [[String GD|String]]|| [[#get_handle_name|get_handle_name]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtual                                                                                                   |-| [[Variant GD|Variant]]|| [[#get_handle_value|get_handle_value]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtual                                                                                                 |-| [[StandardMaterial3D GD|StandardMaterial3D]]|| [[#get_material|get_material]] '''(''' [[String GD|String]] name, [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo ''')'''                                                                                                            |-| [[String GD|String]]|| [[#get_name|get_name]] '''(''' ''')''' virtual                                                                                                                                                                                                        |-| [[String GD|String]]|| [[#get_priority|get_priority]] '''(''' ''')''' virtual                                                                                                                                                                                                |-| bool|| [[#has_gizmo|has_gizmo]] '''(''' [[Spatial GD|Spatial]] spatial ''')''' virtual                                                                                                                                                                |-| bool|| [[#is_handle_highlighted|is_handle_highlighted]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtual                                                                                       |-| bool|| [[#is_selectable_when_hidden|is_selectable_when_hidden]] '''(''' ''')''' virtual                                                                                                                                                                      |-| void|| [[#redraw|redraw]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo ''')''' virtual                                                                                                                                                  |-| void|| [[#set_handle|set_handle]] '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index, [[Camera GD|Camera]] camera, [[Vector2 GD|Vector2]] point ''')''' virtual                                    |}== Method Descriptions ===== add_material ===*  void '''add_material''' '''(''' [[String GD|String]] name, [[StandardMaterial3D GD|StandardMaterial3D]] material ''')'''Adds a new material to the internal material list for the plugin. It can then be accessed with [[#get_material|get_material]]. Should not be overridden.=== can_be_hidden ===*  bool '''can_be_hidden ( )''' virtualOverride this method to define whether the gizmo can be hidden or not. Returns {{Span|true}} if not overridden.=== commit_handle ===*  void '''commit_handle''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index, [[Variant GD|Variant]] restore, bool cancel=false ''')''' virtualOverride this method to commit gizmo handles. Called for this plugin's active gizmos.=== create_gizmo ===*  [[EditorSpatialGizmo GD|EditorSpatialGizmo]] '''create_gizmo''' '''(''' [[Spatial GD|Spatial]] spatial ''')''' virtualOverride this method to return a custom [[EditorSpatialGizmo GD|EditorSpatialGizmo]] for the spatial nodes of your choice, return {{Span|null}} for the rest of nodes. See also [[#has_gizmo|has_gizmo]].=== create_handle_material ===*  void '''create_handle_material''' '''(''' [[String GD|String]] name, bool billboard=false ''')'''Creates a handle material with its variants (selected and/or editable) and adds them to the internal material list. They can then be accessed with [[#get_material|get_material]] and used in [[EditorSpatialGizmo GD#add_handles|EditorSpatialGizmo.add_handles()]]. Should not be overridden.=== create_icon_material ===*  void '''create_icon_material''' '''(''' [[String GD|String]] name, [[Texture2D GD|Texture2D]] texture, bool on_top=false, [[Color GD|Color]] color=Color( 1, 1, 1, 1 ) ''')'''Creates an icon material with its variants (selected and/or editable) and adds them to the internal material list. They can then be accessed with [[#get_material|get_material]] and used in [[EditorSpatialGizmo GD#add_unscaled_billboard|EditorSpatialGizmo.add_unscaled_billboard()]]. Should not be overridden.=== create_material ===*  void '''create_material''' '''(''' [[String GD|String]] name, [[Color GD|Color]] color, bool billboard=false, bool on_top=false, bool use_vertex_color=false ''')'''Creates an unshaded material with its variants (selected and/or editable) and adds them to the internal material list. They can then be accessed with [[#get_material|get_material]] and used in [[EditorSpatialGizmo GD#add_mesh|EditorSpatialGizmo.add_mesh()]] and [[EditorSpatialGizmo GD#add_lines|EditorSpatialGizmo.add_lines()]]. Should not be overridden.=== get_handle_name ===*  [[String GD|String]] '''get_handle_name''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtualOverride this method to provide gizmo's handle names. Called for this plugin's active gizmos.=== get_handle_value ===*  [[Variant GD|Variant]] '''get_handle_value''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtualGets actual value of a handle from gizmo. Called for this plugin's active gizmos.=== get_material ===*  [[StandardMaterial3D GD|StandardMaterial3D]] '''get_material''' '''(''' [[String GD|String]] name, [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo ''')'''Gets material from the internal list of materials. If an [[EditorSpatialGizmo GD|EditorSpatialGizmo]] is provided, it will try to get the corresponding variant (selected and/or editable).=== get_name ===*  [[String GD|String]] '''get_name ( )''' virtualOverride this method to provide the name that will appear in the gizmo visibility menu.=== get_priority ===*  [[String GD|String]] '''get_priority ( )''' virtual=== has_gizmo ===*  bool '''has_gizmo''' '''(''' [[Spatial GD|Spatial]] spatial ''')''' virtualOverride this method to define which Spatial nodes have a gizmo from this plugin. Whenever a [[Spatial GD|Spatial]] node is added to a scene this method is called, if it returns {{Span|true}} the node gets a generic [[EditorSpatialGizmo GD|EditorSpatialGizmo]] assigned and is added to this plugin's list of active gizmos.=== is_handle_highlighted ===*  bool '''is_handle_highlighted''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index ''')''' virtualGets whether a handle is highlighted or not. Called for this plugin's active gizmos.=== is_selectable_when_hidden ===*  bool '''is_selectable_when_hidden ( )''' virtualOverride this method to define whether Spatial with this gizmo should be selecteble even when the gizmo is hidden.=== redraw ===*  void '''redraw''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo ''')''' virtualCallback to redraw the provided gizmo. Called for this plugin's active gizmos.=== set_handle ===*  void '''set_handle''' '''(''' [[EditorSpatialGizmo GD|EditorSpatialGizmo]] gizmo, int index, [[Camera GD|Camera]] camera, [[Vector2 GD|Vector2]] point ''')''' virtualUpdate the value of a handle after it has been updated. Called for this plugin's active gizmos.